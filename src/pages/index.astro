---
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';
import Pillar from '../components/Pillar.astro';

interface Card {
  amount: string;
  amountString: string;
  title: string;
  body: string;
  imgSource: string;
  cta: string;
}

const contractPillar: Card = {
  amount: "create",
  amountString: "",
  title: "Build your dream website",
  imgSource: "url(../spanner.png)",
  body: "Using tried and trusted technologies, we will turn your dream website into reality. With best practice and SEO at heart, you’re covered for anything.",
  cta: "Get started",
};

const culturePillar: Card = {
  amount: "innovate",
  amountString: "",
  title: "Turning old into new",
  body: "Is your current website slow? Don’t feel like you need a new one just yet? Perfect! We will rapidly upgrade your website to 2023 standards.",
  imgSource: "url(../bulb.png)",
  cta: "Upgrade now",
};

const innovatePillar: Card = {
  amount: "maintain",
  amountString: "",
  title: "Sit back and relax",
  body: "Time and time again - we see business’ spending far too much time on technology problems. Upgrade your technology solution and let Reimagined handle the hard work.",
  imgSource: "url(../flame.png)",
  cta: "Learn more",
};
---

<Layout title="Welcome to Astro.">
    <div class="webgl"></div>
    <div class="loading-bg"></div>
              <header>
      <img class="mainlogo" src="models/reimagined.png" alt="Reimagined logo" />
      <button
        class="mobile-nav-toggle"
        aria-controls="primary-navigation"
        aria-expanded="false"
      >
        <svg fill="#ffffff" class="hamburger" viewBox="0 0 100 100" width="40">
          <rect class="line top" width="80" height="3" x="10" y="25"> </rect>
          <rect class="line middle" width="80" height="3" x="10" y="45"> </rect>
          <rect class="line bottom" width="80" height="3" x="10" y="65"> </rect>
        </svg>
      </button> 

      <nav>
        <ul
          id="primary-navigation"
          data-visible="false"
          class="primary-navigation"
        >
          <li><a href="#">Home</a></li>
          <li><a href="#">Technology</a></li>
          <li><a href="#">Contractors</a></li>
          <li><a href="#">Teams</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </nav>
    </header>
    <main>
      <!-- <nav>
        <img src="models/reimagined.png" class="mainlogo" />
        <ul>
          <li class="active">Home</li>
          <li>Technology</li>
          <li>Services</li>
          <li>Projects</li>
          <li>About</li>
        </ul>
      </nav> -->
      <div class="h-[110px]"></div>
      <section class="hero-textarea">
        <h1 id="hero-main-text">
          Let's <span class="accent">reimagine</span> that dream project.
        </h1>
        <p id="hero-sub-text">
          Innovative technology solutions that prioritize people, catering to
          the needs of Queensland's communities.
        </p>
        <div id="hero-button-list">
          <button id="hero-button">Tell me more</button>
          <button id="hero-button-empty">Get a call back &rarr;</button>
        </div>
      </section>
      <div class="stage">
        <a class="box bounce11" href="#main"> &darr; </a>
      </div>
    </main>
    <section id="main">
      <div>
        <h1 class="title">Our Services</h1>
        <p class="subtitle">
          We offer a range of services to help you achieve your goals.
        </p>
      </div>
    </section>
    <section class="pillars">
      <h3 class="pillars-title">
        Why choose <span class="text-gradient">Reimagined?</span>
      </h3>
        <ul role="list">
          <Pillar
            amount={contractPillar.amount}
            amountString={contractPillar.amountString}
            title={contractPillar.title}
            body={contractPillar.body}
            imgSource={contractPillar.imgSource}
            cta={contractPillar.cta}
          />
          <Pillar
            amount={culturePillar.amount}
            amountString={culturePillar.amountString}
            title={culturePillar.title}
            body={culturePillar.body}
            imgSource={culturePillar.imgSource}
            cta={culturePillar.cta}
          />

          <Pillar
            amount={innovatePillar.amount}
            amountString={innovatePillar.amountString}
            title={innovatePillar.title}
            body={innovatePillar.body}
            imgSource={innovatePillar.imgSource}
            cta={innovatePillar.cta}
          />
        </ul>
        </section>

    <!-- <h1 class="title">Give it a spin</h1> -->

	<script src="../webgl/main.js"></script>

</Layout>

<style is:inline>

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap');

  ul {
    display: flex;
    gap: 20px;
    flex-direction: column;
  }
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Inter', sans-serif;
  scroll-behavior: smooth;
}

body,
html {
  overflow-x: hidden;
}

  .primary-navigation {
    list-style: none;
    margin: 0;
    padding: 0;
  }
  li a {
    text-decoration: none;
    color: rgba(255, 255, 255, 0.5);
  }
  .mobile-nav-toggle {
    display: none;
  }
  header {
    position: fixed;
    top: 0px;
    width: calc(100%);
    top: 0px;
    padding-top: 33px;
    z-index: 89;
    background: transparent;
    left: 0;
    padding-inline: 33px;
    padding-bottom: 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

.webgl {
  position: absolute;
  z-index: -1;
  max-width: 100vw;
  max-height: 100vh;
  overflow-x: hidden;
  left: 0;
  top: 0;
  /* background-image: url("models/bg.png"); */
}
.loading-bg {
  position: absolute;
  background-image: url("models/bg-2.webp");
  background-size: cover;
  width: 100vw;
  height: 100vh;
  z-index: -2;
  left: 0;
  top: 0;
}
.title {
  margin-top: 150vh;
}
.mainlogo {
  width: 15.91175rem;
  height: 2.75rem;
}


li {
  font-size: 1.125rem;
}

nav ul {
  display: flex;
  flex-direction: row;

  list-style: none;
  align-items: center;
  gap: 1rem;
  color: rgba(255, 255, 255, 0.5);
}
.active {
  color: white !important;
}
.accent {
  background: linear-gradient(257deg, #db00ff 38.33%, #8a68eb 90.97%);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.hero-textarea {
  padding-left: 3.5rem;
  color: white;
  /* padding-top: 13rem; */
  display: flex;
  gap: 0.7rem;
  flex-direction: column;
}
#hero-main-text {
  color: #fff;
  font-size: 4rem;
  font-style: normal;
  font-weight: 700;
  line-height: 130.523%; /* 6.24063rem */
  letter-spacing: 0.11956rem;
  max-width: 45vw;
}

#hero-sub-text {
  color: rgba(255, 255, 255, 0.5);
  font-size: 1.125rem;
  font-style: normal;
  font-weight: 400;
  line-height: normal;
  max-width: 44vw;
}

#hero-button-list {
  display: flex;
  gap: 1rem;
}

#hero-button {
  background: #8a68eb;
  border-radius: 0.3rem;
  border: none;
  padding: 0.7rem 1.7rem;
  color: white;
  font-size: 1.125rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
}

#hero-button-empty {
  background: linear-gradient(to left, transparent 50%, #8a68eb 50%) right;
  background-size: 200%;
  border: 3px solid #8a68eb;
  border-radius: 0.3rem;
  padding: 0.7rem 1.7rem;
  color: white;
  font-size: 1.125rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.4s ease-in-out;
}

#hero-button-empty:hover {
  background-position: left;
}

main {
  display: flex;
  height: 100vh;
  justify-content: space-between;
  flex-direction: column;
}

.hero-arrow p {
  color: white;
  font-size: 1.5rem;
}

.hero-arrow {
  display: flex;
  justify-content: center;
  padding-bottom: 1.1rem;
}
@keyframes bounce {
  0% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-25px);
  }
  100% {
    transform: translateY(0);
  }
}
.box {
  animation-duration: 1.5s;
  animation-iteration-count: infinite;
  margin: 0 auto 0 auto;
  transform-origin: bottom;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background-color: #8a68eb;
  color: white;
  text-decoration: none;
  font-size: 1.125rem;
  font-weight: bold;
}

.bounce11 {
  animation-name: bounce;
  animation-timing-function: linear;
}
.bounce11:hover {
  -moz-animation-play-state: paused;
  -webkit-animation-play-state: paused;
  animation-play-state: paused;
}

/* media tag for small devices */
@media (max-width: 768px) {

    .primary-navigation {
    list-style: none;
    margin: 0;
    padding: 0;
  }
  li a {
    text-decoration: none;
    color: rgba(255, 255, 255, 0.5);
  }
  .mobile-nav-toggle {
    display: none;
  }
  header {
    position: fixed;
    top: 0px;
    width: calc(100%);
    top: 0px;
    padding-top: 33px;
    z-index: 89;
    background: transparent;
    left: 0;
    padding-inline: 33px;
    padding-bottom: 2rem;
  }
  main, .webgl, .loading-bg {
    height: 89vh;
  }
  .mainlogo {
    width: 10.91175rem;
    height: 1.75rem;
  }
  nav ul {
    flex-direction: column;
    gap: 3rem;
  }
  nav ul li a {
    font-size: 1.125rem;
  }
  #hero-main-text {
    font-size: 2.5rem;
    max-width: 100vw;
  }
  #hero-sub-text {
    font-size: 1rem;
    max-width: 100vw;
  }
  #hero-button {
    font-size: .9rem;
    padding: .25rem 1rem;
  }
  #hero-button-empty {
    font-size: .9rem;
    padding: .25rem 1rem;
  }
  .title {
    margin-top: 100vh;
  }
  .hero-textarea {
    padding-inline: 32px;
    padding-bottom: 32px;
  }
  nav {
    padding-top: 1.5rem;
    padding-inline: 1.5rem;
  }
  ul {
    gap: 0.5rem;
  }
  .stage {
    display: none;
  }
 @media (max-width: 60rem) {
    .primary-navigation {
      position: fixed;
      inset: 0 0 0 20%;
      padding: min(20vh, 10rem) 2em;
      background: hsl(240 100% 7% / 0.99);
      transform: translateX(100%);
      transition: transform 350ms ease-in-out;
      z-index: 99;
      -webkit-backdrop-filter: blur(1rem);
    }

    .mobile-nav-toggle {
      display: block;
      position: absolute;
      z-index: 999;
      background: none;
      border: none;
      top: 2rem;
      right: 2rem;
    }
    .primary-navigation[data-visible="true"] {
      transform: translateX(0%);
    }
    header {
      position: fixed;
      top: 0px;
      width: calc(100%);
      top: 0px;
      padding-top: 33px;
      z-index: 89;
      background: transparent;
      left: 0;
      padding-inline: 33px;
      padding-bottom: 2rem;
    }
    .hero::before {
      content: "";
      display: block;
      height: 50px;
      position: static;
    }
  }
  @supports (rotate: -45deg) {
    @media (max-width: 60rem) {
      .mobile-nav-toggle .line {
        transition: y 300ms ease-in 300ms, transform 300ms ease-in,
          opacity 0ms 300ms;
        transform-origin: center;
      }

      .mobile-nav-toggle[aria-expanded="true"] .line {
        transition: y 300ms ease-in, transform 300ms ease-in 300ms,
          opacity 0ms 300ms;
      }

      .mobile-nav-toggle[aria-expanded="true"] :is(.top, .bottom) {
        y: 47.5;
      }

      .mobile-nav-toggle[aria-expanded="true"] .top {
        transform: rotate(45deg);
      }

      .mobile-nav-toggle[aria-expanded="true"] .middle {
        opacity: 0;
      }

      .mobile-nav-toggle[aria-expanded="true"] .bottom {
        transform: rotate(-45deg);
      }
    }
  }
  .primary-navigation {
    background: hsl(240 100% 7% / 0.9);
    -webkit-backdrop-filter: blur(1rem);
    backdrop-filter: blur(1rem);
  }
}@media (max-width: 60rem) {
    .primary-navigation[data-visible="false"] {
      position: fixed;
      inset: 0 0 0 20%;
      padding: min(20vh, 10rem) 2em;
      background: hsl(240 100% 7% / 0.99);
      transform: translateX(100%);
      transition: transform 350ms ease-in-out;
      z-index: 99;
      -webkit-backdrop-filter: blur(1rem);

    }

    .mobile-nav-toggle {
      display: block;
      position: absolute;
      z-index: 999;
      background: none;
      border: none;
      top: 2rem;
      right: 2rem;
    }
    .primary-navigation[data-visible="true"] {
      transform: translateX(0%);

    }
    header {
      position: fixed;
      top: 0px;
      width: calc(100%);
      top: 0px;
      padding-top: 33px;
      z-index: 89;
      background: transparent;
      left: 0;
      padding-inline: 33px;
      padding-bottom: 2rem;
    }
    .hero::before {
      content: "";
      display: block;
      height: 50px;
      position: static;
    }
  }
</style>
<script>
  const primaryNav = document.querySelector(".primary-navigation");
  const navToggle = document.querySelector(".mobile-nav-toggle");
  navToggle.addEventListener("click", () => {
    const visibility = primaryNav.getAttribute("data-visible");

    if (visibility === "false") {
      primaryNav.setAttribute("data-visible", "true");
      navToggle.setAttribute("aria-expanded", "true");
    } else {
      primaryNav.setAttribute("data-visible", "false");
      navToggle.setAttribute("aria-expanded", "false");
    }
  });

  var body = document.getElementsByTagName("body")[0] as HTMLElement;
  var header = document.getElementsByTagName("header")[0] as HTMLElement;

  // create a function that will only activate if a media query is below 30em and ensure it updates on dynamic size changes
  // var mediaQuery = window.matchMedia("(max-width: 35em)");
  // function handleScroll() {
  //   var scroll = window.scrollY as number;
  //   if (scroll <= 1) {
  //     header.style.backgroundColor = "";
  //     header.style.borderBottom = "";
  //   } else {
  //     // yellow
  //     header.style.backgroundColor = "hsl(240 100% 7% / 1)";
  //     header.style.borderBottom = "1px solid #3C3C3C";
  //     header.style.transition = "all 0.15s ease";
  //   }
  // }

  // function handleMediaQueryChange(mediaQuery: any) {
  //   if (mediaQuery.matches) {
  //     // if the media query is below 30em, add the scroll event listener
  //     window.addEventListener("scroll", handleScroll);
  //   } else {
  //     // otherwise, remove it
  //     window.removeEventListener("scroll", handleScroll);
  //   }
  // }
  // mediaQuery.addEventListener("change", handleMediaQueryChange);

  // handleMediaQueryChange(mediaQuery);
  // create the handleScroll function to do the same thing as the window.onscroll below

  // trigger this function every time the user scrolls
  window.onscroll = function (event) {
    var scroll = window.scrollY as number;
    if (scroll <= 1) {
      header.style.backgroundColor = "";
      header.style.borderBottom = "";
    } else {
      // yellow
      header.style.backgroundColor = "hsl(240 100% 7% / 1)";
      header.style.borderBottom = "1px solid #3C3C3C";
      header.style.transition = "all 0.15s ease";
    }
  };
</script>